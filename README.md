# Titan Saga Admin Panel

> Deep simulation analytics and monitoring dashboard for Titan Saga

## Overview

The Titan Saga Admin Panel is a comprehensive React-based dashboard for monitoring and analyzing the deep simulation systems in Titan Saga. It provides real-time visualization of world simulation metrics, player activity, server performance, and battle statistics.

## Features

### Core Metrics
- **Overview Dashboard** - System-wide status with key metrics from all subsystems
- **World Simulation** - Population tracking, economy health, regional data, and world events
- **Player Activity** - Active players, session data, top players, and activity trends
- **Server Performance** - API metrics, response times, error rates, and server health
- **Battle System** - Combat statistics, skill usage, damage distribution, and battle outcomes

### Technical Features
- Real-time data updates (30-second auto-refresh)
- Responsive design with dark theme optimized for long monitoring sessions
- Interactive charts and visualizations using Recharts
- TypeScript for type safety
- Mock data service for development (ready for real API integration)

## Tech Stack

- **Framework**: React 18 with TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS
- **Charts**: Recharts
- **Data Fetching**: React Query (@tanstack/react-query)
- **Routing**: React Router v6
- **Date Handling**: date-fns

## Project Structure

```
TitanSaga-Admin/
├── public/                    # Static assets
├── src/
│   ├── components/
│   │   ├── layout/           # Layout components (Header, Navigation)
│   │   │   ├── Header.tsx
│   │   │   ├── TabNavigation.tsx
│   │   │   └── AdminLayout.tsx
│   │   └── metrics/          # Reusable metric components
│   │       ├── MetricsCard.tsx
│   │       ├── TimeSeriesChart.tsx
│   │       └── BarChartCard.tsx
│   │
│   ├── pages/                # Page components
│   │   ├── OverviewPage.tsx
│   │   ├── WorldSimulationPage.tsx
│   │   ├── PlayersPage.tsx
│   │   ├── ServerPerformancePage.tsx
│   │   ├── BattlesPage.tsx
│   │   └── SettingsPage.tsx
│   │
│   ├── services/             # Data services
│   │   └── mockDataService.ts
│   │
│   ├── types/                # TypeScript type definitions
│   │   └── metrics.ts
│   │
│   ├── App.tsx               # Main app with routing
│   ├── main.tsx              # Entry point
│   └── index.css             # Global styles
│
├── package.json
├── tsconfig.json
├── tailwind.config.js
└── vite.config.ts
```

## Getting Started

### Prerequisites

- **Node.js**: v18 or higher
- **npm**: v9 or higher

### Installation

1. Navigate to the project directory:
```bash
cd TitanSaga-Admin
```

2. Install dependencies:
```bash
npm install
```

### Development

Start the development server:
```bash
npm run dev
```

The dashboard will be available at `http://localhost:5173`

### Build for Production

Create an optimized production build:
```bash
npm run build
```

Preview the production build:
```bash
npm run preview
```

## Available Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server |
| `npm run build` | Build for production |
| `npm run preview` | Preview production build |
| `npm run lint` | Lint code with ESLint |

## Color Scheme

The admin panel uses a dark theme with Titan Saga branding:

- **Primary Navy**: `#0A1929` - Main background
- **Purple**: `#6B46C1` - Accent color
- **Blue**: `#3B82F6` - Primary actions
- **Cyan**: `#06B6D4` - Highlights
- **Emerald**: `#10B981` - Success states
- **Amber**: `#F59E0B` - Warnings
- **Red**: `#EF4444` - Errors

## Data Management

### Mock Data Mode (Current)

The dashboard currently uses mock data generated by `mockDataService.ts`. This provides realistic simulation data for development and demonstration purposes.

### Connecting to Real API

To connect to the World-Engine-Server:

1. Update `mockDataService.ts` to call real API endpoints
2. Configure API base URL in environment variables
3. Implement authentication token handling
4. Update React Query queries to use real data fetching functions

Example API service structure:
```typescript
// src/services/apiService.ts
import axios from 'axios';

const api = axios.create({
  baseURL: process.env.VITE_API_URL || 'http://localhost:8000',
});

export const apiService = {
  getOverview: () => api.get('/api/metrics/overview'),
  getWorldSimulation: () => api.get('/api/metrics/world'),
  // ... other endpoints
};
```

## Key Metrics Tracked

### World Simulation
- Total population across all regions
- Active regions and their prosperity
- Economy health (0-100 scale)
- World time (day, season, year)
- Recent world events with severity levels
- Economic indicators (wealth, trade volume, inflation, unemployment)

### Player Activity
- Active player count
- Total active sessions
- New vs returning players
- Average session duration
- Player activity by hour
- Top players by level and playtime

### Server Performance
- Total API requests and success rate
- Error rate and error distribution
- Response times (P50, P95, P99, Average)
- Server uptime
- Resource usage (CPU, Memory, Disk, Network)
- Endpoint-specific performance metrics

### Battle System
- Total battles and active battles
- Player win/loss statistics
- Battle type distribution (PvP, PvE, Boss, Arena)
- Skill usage statistics
- Damage distribution (Physical, Magical, Elemental)
- Recent battle history

## Future Enhancements

- User authentication system
- Real-time WebSocket updates for live data
- Custom date range filtering
- Data export functionality (CSV, JSON)
- Alert configuration and notifications
- Role-based access control
- Historical data trends and analytics
- A/B testing metrics
- Custom dashboard layouts

## Integration with World-Engine-Server

The admin panel is designed to integrate with the World-Engine-Server, which:
- Connects to Neon.tech PostgreSQL database
- Receives REST API calls from deployed Godot game clients
- Stores gameplay datapoints for analysis
- Exposes metrics endpoints for the admin panel

## Development Notes

- All pages use React Query for data fetching with 30-second auto-refresh
- Components are designed to handle loading and error states
- Mock data uses realistic ranges and random generation for demonstration
- Tailwind CSS classes follow a consistent dark theme pattern
- TypeScript types are defined in `src/types/metrics.ts` for all data structures

## Support

For issues and questions:
1. Check the codebase documentation
2. Review component implementations
3. Consult the World-Engine-Server API documentation

## License

Internal project - not for external distribution

---

**Status**: Development - Mock Data Mode
**Last Updated**: January 2026
**Version**: 1.0.0
